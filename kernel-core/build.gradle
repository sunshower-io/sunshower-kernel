plugins {
    id 'pmd'
    id 'org.springframework.boot'
    id "com.github.spotbugs" version "2.0.0"
}

apply plugin: 'java'
apply plugin: 'java-library'
tasks.withType(com.github.spotbugs.SpotBugsTask) {
    reports {
        xml.enabled = false
        html.enabled = true
    }
}

pmd {
    ruleSets = [
            "${project.projectDir}/check/pmd/rules/errorprone.xml",
            "category/java/multithreading.xml",
            "category/java/bestpractices.xml",
            "category/java/performance.xml"
    ]

}
dependencies {
    implementation group: 'com.github.zafarkhaja', name: 'java-semver', version: '0.9.0'

//    implementation group: 'org.jboss', name: 'jboss-vfs', version: '3.2.14.Final'
    api 'com.google.dagger:dagger:2.24'
    annotationProcessor 'com.google.dagger:dagger-compiler:2.24'
    testAnnotationProcessor 'com.google.dagger:dagger-compiler:2.24'
//    implementation group: 'org.apache.commons', name: 'commons-vfs2', version: '2.4.1'

    implementation 'info.picocli:picocli:4.0.4'

    testImplementation 'org.jboss.modules:jboss-modules'
    /**
     * Jersey
     */
    [
            'jersey'
    ].each {
        implementation "org.springframework.boot:spring-boot-starter-$it"
    }

    testImplementation project(':kernel-modules:kernel-lib')

    /**
     * Spring boot starter tests
     */
    [
            'test'
    ].each {
        testImplementation "org.springframework.boot:spring-boot-starter-$it"
    }


    implementation project(':kernel-api')


//    [
//            'sunshower-felix',
//            'sunshower-yaml-reader'
//    ].each {
//        testImplementation project(":kernel-modules:$it")
//    }


    testImplementation project(':kernel-tests:kernel-test')

}

